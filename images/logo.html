<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Playwrite+DE+SAS:wght@100..400&display=swap"
        rel="stylesheet">
    <style>
        .open-sans-aa {
            font-family: "Playwrite DE SAS", cursive;
            font-optical-sizing: auto;
            font-weight: 800;
            font-style: normal;
            font-size: 100px;
            /* background-color: aqua; */
            width: 128px;
            height: 128px;
            left: 0;
            top: 0;
            color: rgb(78, 188, 255);

        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</head>

<body style="top:0; left:0; margin:0; padding:0; position:relative;">
    <div class="open-sans-aa">
        <span style="position: absolute; top:-24px; left: 4px;">sii</span>
    </div>

    <button class="export-btn" onclick="exportToPNG()" style="margin-top: 30px;">export png</button>

    <script>
        async function exportToPNG() {
            const button = document.querySelector('.export-btn');
            const originalText = button.textContent;

            try {
                button.disabled = true;
                button.textContent = '正在生成...';

                const element = document.querySelector('.open-sans-aa');

                const canvas = await html2canvas(element, {
                    backgroundColor: null,
                    scale: 2,
                    logging: false,
                    useCORS: true,
                    allowTaint: false,
                    width: element.offsetWidth,
                    height: element.offsetHeight
                });

                const dataURL = canvas.toDataURL('image/png');

                const link = document.createElement('a');
                link.download = 'sii-logo.png';
                link.href = dataURL;

                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);

                button.textContent = 'Success!';
                setTimeout(() => {
                    button.textContent = originalText;
                }, 2000);

            } catch (error) {
                console.error('export failed:', error);
                button.textContent = 'export failed, please retry';
                setTimeout(() => {
                    button.textContent = originalText;
                }, 2000);
            } finally {
                button.disabled = false;
            }
        }
    </script>
</body>

</html>